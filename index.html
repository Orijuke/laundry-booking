<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Å—Ç–∏—Ä–æ–∫ ‚Äî —É–ª. –°–µ–¥–æ–≤–∞, 91–∫6</title>
  <link rel="icon" href="img/favicon.ico" type="image/x-icon">
  <link rel="icon" href="img/laundry-machine.png" type="image/png">
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-database-compat.js"></script>
  
  <script>
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase
    const firebaseConfig = {
      databaseURL: "https://laundry-booking-sedova-91k6-default-rtdb.europe-west1.firebasedatabase.app"
    };
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º Firebase
    const app = firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
    
    // –î–µ–ª–∞–µ–º db –≥–ª–æ–±–∞–ª—å–Ω–æ –¥–æ—Å—Ç—É–ø–Ω–æ–π –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤
    window.db = db;

    // –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (–º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏)
    db.ref('testConnection').set({
      message: "Firebase –ø–æ–¥–∫–ª—é—á–µ–Ω!",
      timestamp: firebase.database.ServerValue.TIMESTAMP
    }).then(() => console.log("–¢–µ—Å—Ç–æ–≤–∞—è –∑–∞–ø–∏—Å—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞"));
  </script>
</head>
<body>
  <header>
    <button id="profile-btn" class="button-54">üë§ –ü—Ä–æ—Ñ–∏–ª—å</button>
    <h1 id="current-date"></h1>
    <input type="date" id="date-picker">
  </header>

  <main>
    <div class="table-container">
      <table id="schedule-table">
        <thead>
          <tr>
            <th>–í—Ä–µ–º—è</th>
            <th>–£ —Å—Ç–µ–Ω—ã</th>
            <th>–£ –¥–≤–µ—Ä–∏</th>
          </tr>
        </thead>
        <tbody>
          <!-- –°–ª–æ—Ç—ã –±—É–¥—É—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω—ã JavaScript -->
        </tbody>
      </table>
    </div>
  </main>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è -->
  <div id="booking-modal" class="modal hidden">
    <div class="modal-content">
      <p>–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å <span id="modal-time"></span> <span id="modal-machine"></span>?</p>
      <div class="button-group">
        <button id="confirm-booking" class="button-54">‚úîÔ∏è –î–∞</button>
        <button id="cancel-booking" class="button-54">‚ùå –ù–µ—Ç</button>
      </div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—Ç–º–µ–Ω—ã –±—Ä–æ–Ω–∏ -->
  <div id="cancel-modal" class="modal hidden">
    <div class="modal-content">
      <p>–û—Ç–º–µ–Ω–∏—Ç—å –±—Ä–æ–Ω—å –Ω–∞ <span id="cancel-modal-time"></span> <span id="cancel-modal-machine"></span>?</p>
      <div class="button-group">
        <button id="confirm-cancel" class="button-54">–û—Ç–º–µ–Ω–∏—Ç—å</button>
        <button id="deny-cancel" class="button-54">–ù–µ –æ—Ç–º–µ–Ω—è—Ç—å</button>
      </div>
    </div>
  </div>

  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —Å–∫—Ä–∏–ø—Ç—ã —Å –∞—Ç—Ä–∏–±—É—Ç–æ–º defer –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è -->
  <script src="js/storage.js" defer></script>
  <script src="js/schedule.js" defer></script>
  <script src="js/app.js" defer></script>

  <script>
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ (—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ DOM)
    document.addEventListener('DOMContentLoaded', function() {
      const today = new Date();
      const options = { day: 'numeric', month: 'long', weekday: 'long' };
      document.getElementById('current-date').textContent = today.toLocaleDateString('ru-RU', options);
      
      // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É –≤ date-picker
      const datePicker = document.getElementById('date-picker');
      const formattedDate = today.toISOString().split('T')[0];
      datePicker.value = formattedDate;
      datePicker.min = formattedDate; // –ó–∞–ø—Ä–µ—â–∞–µ–º –≤—ã–±–∏—Ä–∞—Ç—å –ø—Ä–æ—à–µ–¥—à–∏–µ –¥–∞—Ç—ã
    });
  </script>
</body>
</html>
